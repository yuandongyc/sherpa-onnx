# 根据 duration2 控制转换时长

## 修改内容

### 1. 修改 convertVideoToAudio 方法
在 `video-converter/src/converter.ts` 中：
- 添加 `duration?: number` 参数
- 如果提供了 duration，使用 FFmpeg 的 `-t` 参数截取指定时长的音频
- 只生成 WAV 格式（移除 MP3 转换）

### 2. 修改 convertVideosFromConfig 方法
- 从 video-list.json 读取每个视频的 `duration2` 值
- 将 `duration2` 传递给 `convertVideoToAudio` 方法

### 3. 创建批量转换脚本
创建 `batch-convert.js`：
- 读取 video-list.json
- 调用批量转换方法
- 使用 duration2 控制每个视频的转换时长
- 显示转换进度

### 4. 重新编译
- 运行 TypeScript 编译

## 预期结果

运行批量转换后，每个视频根据 duration2 转换对应时长的 WAV 文件：
- video2.wav (144秒)
- video4.wav (147秒)
- video6.wav (179秒)

## FFmpeg 命令示例

```bash
ffmpeg -i video.mp4 -t 144 -ar 16000 -ac 1 -sample_fmt s16 output.wav
```

`-t 144` 表示只转换前 144 秒的音频。